## IAM – Allow Access Only From a Specific IP Address

AWS Identity and Access Management allows controlling **who can access AWS and from which network**.
Using IAM policies, access can be restricted so that a user can log in **only from a specific IP address**.

This adds an extra security layer at the **network level**, not just username and password.

---

## Step 1: Decide the Allowed IP Address

The IP address must be **static**.

Common examples:

* Office internet public IP
* Organization VPN public IP

Example:

```
203.0.113.10
```

Single IP format:

```
203.0.113.10/32
```

---

## Step 2: Create or Select an IAM User

1. Open AWS Console
2. Go to **IAM**
3. Open **Users**
4. Select an existing user
   or create a new user

---

## Step 3: Create an IAM Policy With IP Restriction

1. Go to **IAM → Policies**
2. Click **Create policy**
3. Switch to the **JSON** tab
4. Add the policy below:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "*",
      "Resource": "*",
      "Condition": {
        "IpAddress": {
          "aws:SourceIp": "203.0.113.10/32"
        }
      }
    }
  ]
}
```

---

## Step 4: Save the Policy

* Policy name:

```
Allow-Access-From-Specific-IP
```

* Create the policy

---

## Step 5: Attach the Policy to the User

1. Open **IAM → Users**
2. Select the user
3. Choose **Add permissions**
4. Attach **Allow-Access-From-Specific-IP**
5. Save changes

---

## Step 6: Validate the Setup

* Login from the **allowed IP** → Access works
* Login from any other IP → **AccessDenied**

This confirms that IP-based restriction is active.

---

## Explanation to Use While Teaching

> “IAM can restrict access not only by identity but also by network. Even with valid credentials, AWS allows access only when the request comes from an approved IP address.”

---

## Important Notes

* Use only **static IPs**
* Avoid home or mobile networks with dynamic IPs
* Combine with **MFA** for stronger security
* Keep one admin user **without IP restriction** for emergency access
* IP change will immediately block access

---

## One-Line Summary

> IAM supports network-level access control using IP-based conditions.


